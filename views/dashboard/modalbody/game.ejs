<canvas id="myCanvas" height="700px" width="1100px">

</canvas>

<script>
    const canvas = document.getElementById("myCanvas")
    const c = canvas.getContext("2d");
    const fps = 60;
    let p1  = {
        x: 100,
        y: 100,
        width: 20,
        height: 100,
        keys: {
            up: false,
            down: false,
        }
    }
    let p2  = {
        x: 1000,
        y: 100,
        width: 20,
        height: 100,
    }
    function draw() {
        c.fillStyle = "white";
        c.fillRect(0, 0, canvas.width, canvas.width);
        c.fillStyle = "black";
        c.fillRect(p1.x,p1.y,p1.width,p1.height);
        c.fillStyle = "black";
        c.fillRect(p2.x,p2.y,p2.width,p2.height);

        const gameData = {
            up: p1.keys.up,
            down: p1.keys.down,
        }

        socket.emit("pingpong", gameData);

        socket.on("pingpong",(data)=>{
            data.p1 ? p1.y = data.p1.y : false;
            data.p2 ? p2.y = data.p2.y : false;
        });


    }

    $("#modalGame").keydown(e => {
        switch (e.key) {
            case "w":
            case "ArrowUp":
                p1.keys.up = true;
                break;
            case "s":
            case "ArrowDown":
                p1.keys.down = true;
                break;
        }
    });
    $("#modalGame").keyup(e => {
        switch (e.key) {
            case "w":
            case "ArrowUp":
                p1.keys.up = false;
                break;
            case "s":
            case "ArrowDown":
                p1.keys.down = false;
                break;
        }
    });

    setInterval(draw, 1000 / fps);

    function switchKey(key) {

    }

</script>